<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>인프라 운영 및 모니터링 시스템 | SeungHo Choi</title>
    
    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="/static/favicon.ico">
    <link rel="icon" type="image/png" sizes="32x32" href="/static/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/static/favicon-16x16.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/static/favicon-256x256.png">
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <!-- Prism.js for code highlighting -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css" rel="stylesheet">
    
    <style>
        body { font-family: 'Inter', sans-serif; }
        .gradient-bg { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); }
        
        /* 마크다운 스타일링 */
        .prose {
            max-width: none;
            color: #374151;
            line-height: 1.75;
        }
        
        .prose h1 {
            font-size: 2.5rem;
            font-weight: 800;
            color: #1f2937;
            margin-bottom: 2rem;
            margin-top: 3rem;
            padding-bottom: 0.75rem;
            border-bottom: 3px solid #3b82f6;
        }
        
        .prose h2 {
            font-size: 2rem;
            font-weight: 700;
            color: #1f2937;
            margin-bottom: 1.5rem;
            margin-top: 2.5rem;
            padding-bottom: 0.5rem;
            border-bottom: 2px solid #e5e7eb;
            position: relative;
        }
        
        .prose h2::before {
            content: '';
            position: absolute;
            bottom: -2px;
            left: 0;
            width: 60px;
            height: 2px;
            background: #3b82f6;
        }
        
        .prose h3 {
            font-size: 1.5rem;
            font-weight: 600;
            color: #374151;
            margin-bottom: 1rem;
            margin-top: 2rem;
        }
        
        .prose h4 {
            font-size: 1.25rem;
            font-weight: 600;
            color: #4b5563;
            margin-bottom: 0.75rem;
            margin-top: 1.5rem;
        }
        
        .prose p {
            margin-bottom: 1.5rem;
            color: #4b5563;
            line-height: 1.8;
        }
        
        .prose ul, .prose ol {
            margin-bottom: 1.5rem;
            padding-left: 1.5rem;
        }
        
        .prose li {
            margin-bottom: 0.5rem;
            color: #4b5563;
            line-height: 1.7;
        }
        
        .prose ul li {
            position: relative;
            list-style: none;
        }
        
        .prose ul li::before {
            content: '•';
            color: #3b82f6;
            font-weight: bold;
            position: absolute;
            left: -1rem;
        }
        
        .prose ol li {
            list-style: decimal;
            color: #4b5563;
        }
        
        .prose strong {
            font-weight: 600;
            color: #1f2937;
        }
        
        .prose em {
            font-style: italic;
            color: #6b7280;
        }
        
        .prose blockquote {
            border-left: 4px solid #3b82f6;
            padding-left: 1.5rem;
            margin: 2rem 0;
            background: #f8fafc;
            padding: 1.5rem;
            border-radius: 0.5rem;
            font-style: italic;
            color: #4b5563;
        }
        
        .prose code {
            background: #f1f5f9;
            color: #e11d48;
            padding: 0.25rem 0.5rem;
            border-radius: 0.375rem;
            font-size: 0.875rem;
            font-weight: 500;
            border: 1px solid #e2e8f0;
        }
        
        .prose pre {
            background: #1e293b !important;
            color: #e2e8f0 !important;
            padding: 1.5rem !important;
            border-radius: 0.75rem !important;
            overflow-x: auto !important;
            margin: 2rem 0 !important;
            border: 1px solid #334155 !important;
            box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.1) !important;
        }
        
        .prose pre code {
            background: transparent !important;
            color: inherit !important;
            padding: 0 !important;
            border: none !important;
            border-radius: 0 !important;
            font-size: 0.875rem !important;
        }
        
        .prose img {
            border-radius: 0.75rem;
            box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.1);
            margin: 2rem 0;
            max-width: 100%;
            height: auto;
            cursor: zoom-in;
            transition: transform 0.3s ease;
        }

        .prose img:hover {
            transform: scale(1.02);
        }
        
        .prose table {
            width: 100%;
            border-collapse: collapse;
            margin: 2rem 0;
            background: white;
            border-radius: 0.5rem;
            overflow: hidden;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
        }
        
        .prose th {
            background: #f8fafc;
            padding: 1rem;
            text-align: left;
            font-weight: 600;
            color: #374151;
            border-bottom: 2px solid #e5e7eb;
        }
        
        .prose td {
            padding: 1rem;
            border-bottom: 1px solid #f3f4f6;
            color: #4b5563;
        }
        
        .prose hr {
            border: none;
            height: 2px;
            background: linear-gradient(to right, #3b82f6, #8b5cf6);
            margin: 3rem 0;
            border-radius: 1px;
        }
        
        /* 특별한 강조 박스 */
        .prose p:has(strong:first-child) {
            background: linear-gradient(135deg, #eff6ff 0%, #f0f9ff 100%);
            border-left: 4px solid #3b82f6;
            padding: 1rem 1.5rem;
            border-radius: 0.5rem;
            margin: 1.5rem 0;
        }
    </style>
</head>
<body class="bg-gray-50">
    
    <!-- Navigation -->
    <nav class="bg-white shadow-sm border-b sticky top-0 z-50">
        <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center py-4">
                <a href="/" class="text-xl font-bold text-gray-800 hover:text-blue-600 transition-colors">
                    <i class="fas fa-arrow-left mr-2"></i> SeungHo Choi
                </a>
                <div class="flex space-x-4">
                    <!-- GitHub 링크 제거됨 -->
                </div>
            </div>
        </div>
    </nav>

    <!-- Project Header -->
    <section class="gradient-bg text-white py-20">
        <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center">
                <h1 class="text-4xl md:text-5xl font-bold mb-6 leading-tight">인프라 운영 및 모니터링 시스템</h1>
                <p class="text-xl text-white/90 mb-8 leading-relaxed">IaC 기반 인프라 관리와 종합적인 모니터링 시스템 구축. Terraform과 Serverless Framework를 통한 인프라 코드화 및 비용 최적화 자동화 시스템 도입</p>
                <div class="flex justify-center items-center space-x-8 text-white/80">
                    <span class="flex items-center">
                        <i class="fas fa-calendar mr-2"></i>2021.01 - 
                    </span>
                </div>
            </div>
        </div>
    </section>

    <!-- Project Content -->
    <section class="py-20">
        <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8">
            
            <!-- Tech Stack -->
            <div class="bg-white rounded-2xl p-8 shadow-lg mb-8 border border-gray-100">
                <h2 class="text-2xl font-bold mb-6 text-gray-800 flex items-center">
                    <i class="fas fa-tools mr-3 text-blue-600"></i>
                    기술 스택
                </h2>
                <div class="flex flex-wrap gap-3">
                    
                    <span class="px-4 py-2 bg-gradient-to-r from-blue-50 to-indigo-50 text-blue-800 rounded-full font-medium border border-blue-200 hover:shadow-md transition-shadow">
                        Terraform
                    </span>
                    
                    <span class="px-4 py-2 bg-gradient-to-r from-blue-50 to-indigo-50 text-blue-800 rounded-full font-medium border border-blue-200 hover:shadow-md transition-shadow">
                        Serverless Framework
                    </span>
                    
                    <span class="px-4 py-2 bg-gradient-to-r from-blue-50 to-indigo-50 text-blue-800 rounded-full font-medium border border-blue-200 hover:shadow-md transition-shadow">
                        Grafana
                    </span>
                    
                    <span class="px-4 py-2 bg-gradient-to-r from-blue-50 to-indigo-50 text-blue-800 rounded-full font-medium border border-blue-200 hover:shadow-md transition-shadow">
                        CloudWatch
                    </span>
                    
                    <span class="px-4 py-2 bg-gradient-to-r from-blue-50 to-indigo-50 text-blue-800 rounded-full font-medium border border-blue-200 hover:shadow-md transition-shadow">
                        AWS Cost Explorer
                    </span>
                    
                </div>
            </div>

            <!-- Project Details -->
            <div class="bg-white rounded-2xl p-8 shadow-lg border border-gray-100">
                <div class="prose prose-lg max-w-none">
                    <h2>개요</h2>
<p>이 문서는 특정 기간에 완료된 프로젝트가 아닌, 데이터 플랫폼의 안정성과 효율성을 보장하기 위해 팀내에서 지속적으로 수행하고 있는 <strong>인프라 관리, 모니터링, 그리고 비용 최적화 활동</strong>에 대해 기술합니다. 데이터 엔지니어로서 인프라를 단순히 사용하는 것을 넘어, <strong>안정적이고 비용 효율적인 데이터 플랫폼을 구축하고 운영</strong>하는 것을 목표로 합니다.</p>
<hr />
<h2>주요 활동 및 시스템</h2>
<h3>1. IaC(Infrastructure as Code) 기반 인프라 관리</h3>
<p><strong>도입 사유</strong>: 수동으로 인프라를 관리할 때 발생하는 휴먼 에러를 방지하고, 여러 환경(dev, stage, prod)에 걸쳐 일관성 있는 인프라를 신속하게 배포하기 위해 IaC를 도입했습니다. 모든 인프라 변경 사항을 코드로 관리하여 버전 관리, 동료 검토(Peer Review), 변경 이력 추적을 가능하게 했습니다.</p>
<ul>
<li><strong>Terraform</strong><ul>
<li><strong>역할</strong>: 정적이고 핵심적인 인프라 리소스(VPC, Subnet, EC2, RDS, Redshift, ECS, IAM 등)를 관리합니다.</li>
<li><strong>특징</strong>: 선언적 구문을 통해 인프라의 최종 상태를 정의하고, 모듈화를 통해 반복적인 리소스 생성을 효율화했습니다. S3와 DynamoDB를 Remote State 백엔드로 사용하여 상태 파일을 안전하게 관리하고 팀원 간의 동시성 문제를 해결했습니다.</li>
</ul>
</li>
<li><strong>Serverless Framework</strong><ul>
<li><strong>역할</strong>: Lambda, SQS, API Gateway 등 이벤트 기반의 동적인 리소스를 애플리케이션 또는 파이프라인 단위로 묶어 관리합니다.</li>
<li><strong>특징</strong>: 특히 이벤트 기반의 데이터 파이프라인을 배포하고 관리하는 데 용이하며, 각 함수에 필요한 IAM 권한만 최소한으로 부여하여 보안을 강화했습니다.</li>
</ul>
</li>
<li><strong>Pulumi (PoC 진행중)</strong><ul>
<li><strong>도입 배경</strong>: Serverless Framework의 유료화 정책 변경에 따라 대안을 모색하게 되었습니다. 또한, Python, Go 등 범용 프로그래밍 언어로 인프라를 정의할 수 있다는 점이 데이터 엔지니어링 팀의 생산성을 높일 수 있다고 판단했습니다.</li>
<li><strong>현재 상태</strong>: Snowflake 도입에 맞춰 RBAC(Role-Based Access Control), Warehouse, Database 등의 리소스를 <strong>Python 코드로 관리하기 위한 PoC를 진행</strong>하고 있습니다. 이를 통해 데이터 엔지니어에게 친숙한 환경에서 인프라와 애플리케이션 로직을 함께 관리할 수 있는 가능성을 검증하고 있습니다.</li>
</ul>
</li>
</ul>
<h3>2. 데이터 웨어하우스(DW) 모니터링</h3>
<p><strong>도입 사유</strong>: 데이터 웨어하우스는 데이터 분석의 핵심입니다. 성능 저하, 비용 급증, 데이터 정합성 문제를 사전에 방지하고 신속하게 대응하기 위해 다각적인 모니터링 시스템을 구축했습니다.</p>
<ul>
<li><strong>통합 쿼리 대시보드 (Grafana)</strong><ul>
<li><strong>Redshift 클러스터 관점</strong>: CPU/Memory 사용률, 디스크 공간, 활성 연결 수, WLM 큐 대기열 등 클러스터의 전반적인 상태를 시각화하여 병목 지점을 신속하게 파악합니다.</li>
<li><strong>BigQuery 비용 대시보드</strong>: 프로젝트별, 사용자별, 일자별 쿼리 비용을 추적하고, 예상치 못한 비용 급증을 조기에 발견할 수 있도록 구성했습니다.<ul>
<li><img alt="bigquery_dashboard" src="/static/images/projects/infrastructure-management-and-monitoring/bigquery_dashboard.png" /></li>
</ul>
</li>
</ul>
</li>
<li><strong>이상 쿼리 자동 알람</strong><ul>
<li><strong>목적</strong>: 비용 낭비와 시스템 부하를 유발하는 쿼리를 실시간으로 탐지하고 담당자에게 알립니다.</li>
<li><strong>구현</strong>:<ul>
<li><code>BigQuery</code>: 처리량이 <strong>$5를 초과</strong>하는 쿼리가 실행될 경우 Google Chat으로 즉시 알림.<ul>
<li><img alt="bigquery_cost_alert" src="/static/images/projects/infrastructure-management-and-monitoring/bigquery_cost_alert.png" /></li>
</ul>
</li>
<li><code>Redshift</code>: <strong>1시간 이상 실행되는 Long-running 쿼리</strong>나 테이블 <strong>Lock을 유발하는 쿼리</strong>를 탐지하여 알림으로써 장애를 사전에 예방합니다.<ul>
<li><img alt="redshift_query_alert" src="/static/images/projects/infrastructure-management-and-monitoring/redshift_query_alert.png" /></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><strong>데이터 정합성 대시보드 (Grafana)</strong><ul>
<li><strong>목적</strong>: 데이터 파이프라인의 신뢰성을 보장하기 위해 구축했습니다.</li>
<li><strong>구현</strong>: 주요 파이프라인의 Source와 Target 데이터의 Row Count, 최신 업데이트 시간 등을 주기적으로 비교하여 불일치 발생 시 즉시 파악할 수 있도록 시각화했습니다.</li>
</ul>
</li>
</ul>
<h3>3. 데이터 파이프라인 모니터링</h3>
<p><strong>도입 사유</strong>: 매일 수백 개의 데이터 파이프라인이 실행되는 환경에서, 개별 파이프라인의 성공 여부와 성능을 추적하여 데이터 제공의 SLA(Service Level Agreement)를 준수하기 위해 구축했습니다.</p>
<ul>
<li><strong>AWS Lambda 알람</strong>: CloudWatch를 통해 Lambda 함수의 <strong>에러 발생률, Timeout, Throttling</strong> 등 핵심 지표를 모니터링하고, 임계치 초과 시 즉시 알림을 받도록 설정했습니다.<ul>
<li><img alt="lambda_error" src="/static/images/projects/infrastructure-management-and-monitoring/lambda_error.png" /></li>
</ul>
</li>
<li><strong>Prefect 워크플로우 알람</strong>: 데이터 오케스트레이션 도구인 Prefect의 Automation 기능을 활용하여, <strong>워크플로우(Flow)나 개별 태스크(Task) 실패 시</strong> Google Chat으로 상세한 에러 로그와 함께 알림을 보내 신속한 디버깅을 지원합니다.<ul>
<li><img alt="prefect" src="/static/images/projects/infrastructure-management-and-monitoring/prefect.png" /></li>
<li><img alt="prefect_alert" src="/static/images/projects/infrastructure-management-and-monitoring/prefect_alert.png" /></li>
</ul>
</li>
</ul>
<h3>4. 지속적인 비용 최적화 활동</h3>
<p><strong>활동 목표</strong>: 클라우드 비용을 일회성으로 절감하는 것이 아니라, 지속적으로 비용 효율적인 아키텍처를 고민하고 불필요한 낭비를 자동화된 방식으로 관리하는 문화를 정착시키는 것을 목표로 합니다.</p>
<ul>
<li><strong>Graviton 인스턴스 전환 테스트</strong><ul>
<li><strong>내용</strong>: 기존 x86 기반 EC2, RDS 인스턴스를 AWS의 ARM 기반 프로세서인 <strong>Graviton으로 전환 시 얻을 수 있는 비용 및 성능 효과를 검증</strong>했습니다. 동일한 워크로드를 부여하여 CPU, 처리량, 응답 시간 등을 벤치마킹하고, <strong>성능 저하 없이 20~30%의 비용 절감 효과</strong>를 확인한 후 단계적으로 전환하고 있습니다.</li>
</ul>
</li>
<li><strong>서버리스 아키텍처 우선 도입</strong><ul>
<li><strong>전략</strong>: 신규 서비스나 파이프라인 설계 시, 유휴 상태에서 비용이 발생하는 EC2 대신 사용한 만큼만 비용을 지불하는 <strong>Lambda, Fargate, Aurora Serverless</strong>와 같은 서버리스 기술을 우선적으로 검토하여 비용 효율을 극대화합니다.</li>
</ul>
</li>
<li><strong>주기적인 유휴 리소스 자동 탐지 및 제거</strong><ul>
<li><strong>내용</strong>: 정기적으로 실행되는 스크립트를 통해 <strong>연결되지 않은 EIP, Unattached EBS 볼륨, 오래된 S3 객체</strong> 등 불필요한 리소스를 자동으로 탐지하고 리포트합니다.</li>
<li><strong>심화 활동</strong>: 사용량이 적은 EBS 볼륨의 경우, 스냅샷 생성 후 더 작은 볼륨으로 재생성하여 마운트하는 방식으로 <strong>EBS 볼륨 사이즈를 동적으로 최적화</strong>하여 비용을 절감했습니다. 또한, 개발 환경의 EC2/RDS는 <strong>업무 시간 외에는 자동으로 중지(Parking)되도록</strong> 설정하여 비용 낭비를 최소화했습니다.</li>
</ul>
</li>
</ul>
                </div>
            </div>

            <!-- Back to Projects -->
            <div class="text-center mt-12">
                <a href="/#projects" class="inline-flex items-center px-8 py-4 bg-gradient-to-r from-blue-600 to-indigo-600 text-white rounded-full hover:from-blue-700 hover:to-indigo-700 transition-all duration-300 shadow-lg hover:shadow-xl transform hover:-translate-y-1">
                    <i class="fas fa-arrow-left mr-3"></i>
                    프로젝트 목록으로 돌아가기
                </a>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="bg-gray-800 text-white py-12">
        <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
            <p class="text-gray-300">&copy; 2025 SeungHo Choi. All rights reserved.</p>
        </div>
    </footer>

    <!-- Lightbox Modal -->
    <div id="lightbox" class="fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-[100] hidden p-4">
        <img id="lightbox-img" src="" alt="Enlarged image" class="max-w-full max-h-full object-contain rounded-lg">
        <button id="lightbox-close" class="absolute top-6 right-6 text-white text-4xl font-bold">&times;</button>
    </div>

    <!-- Prism.js for code highlighting -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-core.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const lightbox = document.getElementById('lightbox');
            const lightboxImg = document.getElementById('lightbox-img');
            const lightboxClose = document.getElementById('lightbox-close');

            document.querySelectorAll('.prose img').forEach(img => {
                img.addEventListener('click', () => {
                    lightbox.classList.remove('hidden');
                    lightboxImg.src = img.src;
                });
            });

            const closeLightbox = () => {
                lightbox.classList.add('hidden');
                lightboxImg.src = '';
            };

            lightbox.addEventListener('click', (e) => {
                if (e.target === lightbox) {
                    closeLightbox();
                }
            });

            lightboxClose.addEventListener('click', closeLightbox);

            document.addEventListener('keydown', (e) => {
                if (e.key === 'Escape' && !lightbox.classList.contains('hidden')) {
                    closeLightbox();
                }
            });
        });
    </script>
</body>
</html>