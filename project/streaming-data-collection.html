<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>스트리밍 데이터 수집 | SeungHo Choi</title>
    
    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="/static/favicon.ico">
    <link rel="icon" type="image/png" sizes="32x32" href="/static/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/static/favicon-16x16.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/static/favicon-256x256.png">
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <!-- Prism.js for code highlighting -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css" rel="stylesheet">
    
    <style>
        body { font-family: 'Inter', sans-serif; }
        .gradient-bg { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); }
        
        /* 마크다운 스타일링 */
        .prose {
            max-width: none;
            color: #374151;
            line-height: 1.75;
        }
        
        .prose h1 {
            font-size: 2.5rem;
            font-weight: 800;
            color: #1f2937;
            margin-bottom: 2rem;
            margin-top: 3rem;
            padding-bottom: 0.75rem;
            border-bottom: 3px solid #3b82f6;
        }
        
        .prose h2 {
            font-size: 2rem;
            font-weight: 700;
            color: #1f2937;
            margin-bottom: 1.5rem;
            margin-top: 2.5rem;
            padding-bottom: 0.5rem;
            border-bottom: 2px solid #e5e7eb;
            position: relative;
        }
        
        .prose h2::before {
            content: '';
            position: absolute;
            bottom: -2px;
            left: 0;
            width: 60px;
            height: 2px;
            background: #3b82f6;
        }
        
        .prose h3 {
            font-size: 1.5rem;
            font-weight: 600;
            color: #374151;
            margin-bottom: 1rem;
            margin-top: 2rem;
        }
        
        .prose h4 {
            font-size: 1.25rem;
            font-weight: 600;
            color: #4b5563;
            margin-bottom: 0.75rem;
            margin-top: 1.5rem;
        }
        
        .prose p {
            margin-bottom: 1.5rem;
            color: #4b5563;
            line-height: 1.8;
        }
        
        .prose ul, .prose ol {
            margin-bottom: 1.5rem;
            padding-left: 1.5rem;
        }
        
        .prose li {
            margin-bottom: 0.5rem;
            color: #4b5563;
            line-height: 1.7;
        }
        
        .prose ul li {
            position: relative;
            list-style: none;
        }
        
        .prose ul li::before {
            content: '•';
            color: #3b82f6;
            font-weight: bold;
            position: absolute;
            left: -1rem;
        }
        
        .prose ol li {
            list-style: decimal;
            color: #4b5563;
        }
        
        .prose strong {
            font-weight: 600;
            color: #1f2937;
        }
        
        .prose em {
            font-style: italic;
            color: #6b7280;
        }
        
        .prose blockquote {
            border-left: 4px solid #3b82f6;
            padding-left: 1.5rem;
            margin: 2rem 0;
            background: #f8fafc;
            padding: 1.5rem;
            border-radius: 0.5rem;
            font-style: italic;
            color: #4b5563;
        }
        
        .prose code {
            background: #f1f5f9;
            color: #e11d48;
            padding: 0.25rem 0.5rem;
            border-radius: 0.375rem;
            font-size: 0.875rem;
            font-weight: 500;
            border: 1px solid #e2e8f0;
        }
        
        .prose pre {
            background: #1e293b !important;
            color: #e2e8f0 !important;
            padding: 1.5rem !important;
            border-radius: 0.75rem !important;
            overflow-x: auto !important;
            margin: 2rem 0 !important;
            border: 1px solid #334155 !important;
            box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.1) !important;
        }
        
        .prose pre code {
            background: transparent !important;
            color: inherit !important;
            padding: 0 !important;
            border: none !important;
            border-radius: 0 !important;
            font-size: 0.875rem !important;
        }
        
        .prose img {
            border-radius: 0.75rem;
            box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.1);
            margin: 2rem 0;
            max-width: 100%;
            height: auto;
            cursor: zoom-in;
            transition: transform 0.3s ease;
        }

        .prose img:hover {
            transform: scale(1.02);
        }
        
        .prose table {
            width: 100%;
            border-collapse: collapse;
            margin: 2rem 0;
            background: white;
            border-radius: 0.5rem;
            overflow: hidden;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
        }
        
        .prose th {
            background: #f8fafc;
            padding: 1rem;
            text-align: left;
            font-weight: 600;
            color: #374151;
            border-bottom: 2px solid #e5e7eb;
        }
        
        .prose td {
            padding: 1rem;
            border-bottom: 1px solid #f3f4f6;
            color: #4b5563;
        }
        
        .prose hr {
            border: none;
            height: 2px;
            background: linear-gradient(to right, #3b82f6, #8b5cf6);
            margin: 3rem 0;
            border-radius: 1px;
        }
        
        /* 특별한 강조 박스 */
        .prose p:has(strong:first-child) {
            background: linear-gradient(135deg, #eff6ff 0%, #f0f9ff 100%);
            border-left: 4px solid #3b82f6;
            padding: 1rem 1.5rem;
            border-radius: 0.5rem;
            margin: 1.5rem 0;
        }
    </style>
</head>
<body class="bg-gray-50">
    
    <!-- Navigation -->
    <nav class="bg-white shadow-sm border-b sticky top-0 z-50">
        <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center py-4">
                <a href="/" class="text-xl font-bold text-gray-800 hover:text-blue-600 transition-colors">
                    <i class="fas fa-arrow-left mr-2"></i> SeungHo Choi
                </a>
                <div class="flex space-x-4">
                    <!-- GitHub 링크 제거됨 -->
                </div>
            </div>
        </div>
    </nav>

    <!-- Project Header -->
    <section class="gradient-bg text-white py-20">
        <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center">
                <h1 class="text-4xl md:text-5xl font-bold mb-6 leading-tight">스트리밍 데이터 수집</h1>
                <p class="text-xl text-white/90 mb-8 leading-relaxed">Amazon MSK와 DynamoDB에서 생성되는 스트리밍 데이터 수집 및 처리 플랫폼 구축. 실시간 이벤트 스트림 처리와 반정형 데이터 처리</p>
                <div class="flex justify-center items-center space-x-8 text-white/80">
                    <span class="flex items-center">
                        <i class="fas fa-calendar mr-2"></i>2025.01 - 2025.05
                    </span>
                </div>
            </div>
        </div>
    </section>

    <!-- Project Content -->
    <section class="py-20">
        <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8">
            
            <!-- Tech Stack -->
            <div class="bg-white rounded-2xl p-8 shadow-lg mb-8 border border-gray-100">
                <h2 class="text-2xl font-bold mb-6 text-gray-800 flex items-center">
                    <i class="fas fa-tools mr-3 text-blue-600"></i>
                    기술 스택
                </h2>
                <div class="flex flex-wrap gap-3">
                    
                    <span class="px-4 py-2 bg-gradient-to-r from-blue-50 to-indigo-50 text-blue-800 rounded-full font-medium border border-blue-200 hover:shadow-md transition-shadow">
                        Amazon MSK
                    </span>
                    
                    <span class="px-4 py-2 bg-gradient-to-r from-blue-50 to-indigo-50 text-blue-800 rounded-full font-medium border border-blue-200 hover:shadow-md transition-shadow">
                        DynamoDB Streams
                    </span>
                    
                    <span class="px-4 py-2 bg-gradient-to-r from-blue-50 to-indigo-50 text-blue-800 rounded-full font-medium border border-blue-200 hover:shadow-md transition-shadow">
                        MSK Connect
                    </span>
                    
                    <span class="px-4 py-2 bg-gradient-to-r from-blue-50 to-indigo-50 text-blue-800 rounded-full font-medium border border-blue-200 hover:shadow-md transition-shadow">
                        AWS Lambda
                    </span>
                    
                    <span class="px-4 py-2 bg-gradient-to-r from-blue-50 to-indigo-50 text-blue-800 rounded-full font-medium border border-blue-200 hover:shadow-md transition-shadow">
                        Python
                    </span>
                    
                </div>
            </div>

            <!-- Project Details -->
            <div class="bg-white rounded-2xl p-8 shadow-lg border border-gray-100">
                <div class="prose prose-lg max-w-none">
                    <h2>프로젝트 개요</h2>
<p>기존 RDB 중심의 데이터 수집 방식으로는 <strong>클라이언트 로그와 같이 비정형적이고 실시간성이 강한 데이터를 처리하는 데 한계</strong>가 있었습니다. 또한, DynamoDB와 같은 반정형 데이터베이스의 이벤트 로그를 실시간으로 수집하고 분석하는 데 필요한 인프라가 부족했습니다.</p>
<p>본 프로젝트는 <strong>Amazon MSK를 중앙 데이터 허브로 구축하여 모든 이벤트 로그 데이터의 수집을 표준화</strong>하고, 이를 데이터 웨어하우스(DW) 및 다양한 타겟 시스템에 안정적으로 연동하는 <strong>대용량 스트리밍 데이터 수집 플랫폼을 구축</strong>하는 것을 목표로 했습니다.</p>
<h3>아키텍처</h3>
<h4>MSK</h4>
<p><img alt="MSK" src="/static/images/projects/streaming-data-collection/msk.png" /></p>
<h4>DynamoDB Streams</h4>
<p><img alt="DynamoDB Streams" src="/static/images/projects/streaming-data-collection/dynamodb_streams.png" /></p>
<hr />
<h2>프로젝트 목표</h2>
<ol>
<li><strong>전사 데이터 허브 구축</strong>: 파편화된 데이터 수집 파이프라인을 MSK 기반으로 통합하여, 클라이언트, 서버 등 모든 소스에서 발생하는 데이터를 한곳으로 모으는 중앙 데이터 허브를 구축합니다.</li>
<li><strong>안정적인 DW 연동 파이프라인 구축</strong>: MSK, DynamoDB 데이터를 데이터 분석가들이 활용할 수 있도록 안정적으로 DW(S3, Redshift)에 적재하고 분석이 가능한 형태로 변환합니다.</li>
<li><strong>실시간 데이터 처리 기반 마련</strong>: 급증하는 이벤트성 데이터를 지연 없이 처리하고, 이를 실시간 대시보드, 모니터링 등 다양한 서비스에서 활용할 수 있는 기반을 마련합니다.
t</li>
</ol>
<hr />
<h2>기술적 도전과 해결 과정</h2>
<h3>1. MSK Connect를 활용한 다양한 타겟으로의 Code-less 데이터 파이프라인 구축</h3>
<ul>
<li><strong>문제</strong>: 중앙 허브인 MSK로 수집된 데이터를 분석으로 활용하기 위해 다양한 타겟으로의 적재를 희망하였고, 이를 위한 별도의 개발 리소스도 부족하였고 경험도 전무하였습니다.</li>
<li><strong>해결</strong>: s3, redshift, bigquery, snowflake 로의 <strong>모든 타겟으로의 테스트 및 연동</strong>을 마쳤고, <strong>MSK Connect</strong>를 도입하여 별도의 개발 과정 없이 커넥터 설정만으로 다양한 타겟 시스템에 데이터를 연동했습니다. 이를 통해 파이프라인 구축 시간을 단축하고, 검증된 커넥터를 활용하여 데이터 전송의 안정성을 확보했습니다.</li>
<li><strong>Redshift 연동 예시 (Materialized View 활용)</strong>: <a href="https://docs.aws.amazon.com/redshift/latest/dg/materialized-view-streaming-ingestion.html">Redshift Streamin Ingestion</a>을 활용해 MSK 토픽을 직접 조회할 수 있는 외부 스키마와 Materialized View를 생성하여, SQL만으로 실시간 데이터에 접근할 수 있는 환경을 구축했습니다.</li>
</ul>
<pre class="codehilite"><code class="language-sql">-- 외부 스키마 생성 (MSK 브로커 연동)
CREATE EXTERNAL SCHEMA kafka_schema
FROM KAFKA
AUTHENTICATION NONE
URI 'b-1.msk-prod-cluster.xxxxxx.c4.kafka.ap-northeast-2.amazonaws.com:9094,b-2.msk-prod-cluster.xxxxxx.c4.kafka.ap-northeast-2.amazonaws.com:9094'

-- Materialized View 생성 (특정 토픽 구독)
CREATE MATERIALIZED VIEW my_schema.my_event_view AUTO REFRESH YES AS
SELECT *
FROM kafka_schema.&quot;dev.service.myevent&quot;;

-- SUPER 타입의 JSON 데이터 파싱 조회
SELECT
    parsed_json.app.id::INT AS app_id,
    parsed_json.app.version AS app_version,
    parsed_json.device.id AS device_id
FROM (
    SELECT json_parse(kafka_value) AS parsed_json
    FROM my_schema.my_event_view
);
</code></pre>

<ul>
<li><strong>Snowflake 연동 예시 (Sink Connector 설정)</strong>: Snowflake Sink Connector의 Properties 파일을 설정하여 MSK의 특정 토픽 데이터를 Snowflake 테이블로 자동 적재하도록 구성했습니다.</li>
</ul>
<pre class="codehilite"><code class="language-properties"># Snowflake Sink Connector Properties
connector.class=com.snowflake.kafka.connector.SnowflakeSinkConnector
tasks.max=2
topics=dev.pp.neoevent,dev.ppserver.neoevent
snowflake.topic2table.map=dev.pp.neoevent:dev_pp_neoevent,dev.ppserver.neoevent:dev_ppserver_neoevent

# Snowflake Connection Info
snowflake.url.name=xxxxxxxx-xxxxxxxx.snowflakecomputing.com:443
snowflake.user.name=msk_user
snowflake.private.key=MIIFNTBf... (Secret)
snowflake.private.key.passphrase=************
snowflake.database.name=msk_db
snowflake.schema.name=msk_schema

# Buffer &amp; Converter Settings
buffer.count.records=10000
buffer.flush.time=60
buffer.size.bytes=5000000
key.converter=org.apache.kafka.connect.storage.StringConverter
value.converter=com.snowflake.kafka.connector.records.SnowflakeJsonConverter
</code></pre>

<h3>2. DynamoDB Streams를 활용한 안정적인 CDC 데이터 처리</h3>
<h4>2-1. 대용량 트래픽의 안정적인 처리</h4>
<ul>
<li><strong>문제</strong>: 이벤트 기간 동안 예측 불가능한 트래픽이 예상되어 스트림 처리의 안정성이 우려되었습니다.</li>
<li><strong>해결</strong>: <strong>분당 1000만건의 스트레스 테스트</strong>를 통해 시스템의 한계를 파악하고, Lambda의 <code>batch_size</code>와 SQS의 <code>maximum_batching_window_in_seconds</code>를 최적화하여 대규모 이벤트를 효율적으로 그룹화하고 처리할 수 있도록 구성했습니다. 이를 통해 피크 타임에도 안정적인 데이터 처리를 보장했습니다.</li>
</ul>
<h4>2-2. CDC 데이터의 멱등성 있는 처리</h4>
<ul>
<li><strong>문제</strong>: DynamoDB Streams에서 제공되는 <code>INSERT</code>, <code>MODIFY</code>, <code>REMOVE</code> 이벤트 형식으로 발생하는 JSON 데이터를 분석가가 활용할 수 있도록 가공하고 안정적인 테이블 구조를 가질 필요가 있었습니다.</li>
</ul>
<pre class="codehilite"><code class="language-json">-- 예시 records
{
   &quot;Records&quot;:[
      {
         &quot;eventID&quot;:&quot;1&quot;,
         &quot;eventName&quot;:&quot;INSERT&quot;,
         &quot;eventVersion&quot;:&quot;1.0&quot;,
         &quot;eventSource&quot;:&quot;aws:dynamodb&quot;,
         &quot;awsRegion&quot;:&quot;us-east-1&quot;,
         &quot;dynamodb&quot;:{
            &quot;Keys&quot;:{
               &quot;Id&quot;:{
                  &quot;N&quot;:&quot;101&quot;
               }
            },
            &quot;NewImage&quot;:{
               &quot;Message&quot;:{
                  &quot;S&quot;:&quot;New item!&quot;
               },
               &quot;Id&quot;:{
                  &quot;N&quot;:&quot;101&quot;
               }
            },
            &quot;SequenceNumber&quot;:&quot;111&quot;,
            &quot;SizeBytes&quot;:26,
            &quot;StreamViewType&quot;:&quot;NEW_AND_OLD_IMAGES&quot;
         },
         &quot;eventSourceARN&quot;:&quot;stream-ARN&quot;
      },
      {
         &quot;eventID&quot;:&quot;2&quot;,
         &quot;eventName&quot;:&quot;MODIFY&quot;,
         &quot;eventVersion&quot;:&quot;1.0&quot;,
         &quot;eventSource&quot;:&quot;aws:dynamodb&quot;,
         &quot;awsRegion&quot;:&quot;us-east-1&quot;,
         &quot;dynamodb&quot;:{
            &quot;Keys&quot;:{
               &quot;Id&quot;:{
                  &quot;N&quot;:&quot;101&quot;
               }
            },
            &quot;NewImage&quot;:{
               &quot;Message&quot;:{
                  &quot;S&quot;:&quot;This item has changed&quot;
               },
               &quot;Id&quot;:{
                  &quot;N&quot;:&quot;101&quot;
               }
            },
            &quot;OldImage&quot;:{
               &quot;Message&quot;:{
                  &quot;S&quot;:&quot;New item!&quot;
               },
               &quot;Id&quot;:{
                  &quot;N&quot;:&quot;101&quot;
               }
            },
            &quot;SequenceNumber&quot;:&quot;222&quot;,
            &quot;SizeBytes&quot;:59,
            &quot;StreamViewType&quot;:&quot;NEW_AND_OLD_IMAGES&quot;
         },
         &quot;eventSourceARN&quot;:&quot;stream-ARN&quot;
      },
      {
         &quot;eventID&quot;:&quot;3&quot;,
         &quot;eventName&quot;:&quot;REMOVE&quot;,
         &quot;eventVersion&quot;:&quot;1.0&quot;,
         &quot;eventSource&quot;:&quot;aws:dynamodb&quot;,
         &quot;awsRegion&quot;:&quot;us-east-1&quot;,
         &quot;dynamodb&quot;:{
            &quot;Keys&quot;:{
               &quot;Id&quot;:{
                  &quot;N&quot;:&quot;101&quot;
               }
            },
            &quot;OldImage&quot;:{
               &quot;Message&quot;:{
                  &quot;S&quot;:&quot;This item has changed&quot;
               },
               &quot;Id&quot;:{
                  &quot;N&quot;:&quot;101&quot;
               }
            },
            &quot;SequenceNumber&quot;:&quot;333&quot;,
            &quot;SizeBytes&quot;:38,
            &quot;StreamViewType&quot;:&quot;NEW_AND_OLD_IMAGES&quot;
         },
         &quot;eventSourceARN&quot;:&quot;stream-ARN&quot;
      }
   ]
}
</code></pre>

<ul>
<li><strong>해결</strong>: <code>raw 테이블</code>과 <code>state 테이블</code>로 나누어 테이블을 설계하고 데이터의 최종 상태를 정확하게 반영하기 위해 <strong>멱등성을 보장하는 UPSERT 쿼리</strong>를 설계했습니다. 임시 테이블(Stage)을 활용하여 특정 시간 범위 내의 이벤트 중 가장 최신 이벤트만 선별하고, <code>updatedAt</code>과 <code>sequence_number</code>를 복합적으로 사용하여 순서가 보장된 데이터 변경을 수행했습니다.</li>
</ul>
<pre class="codehilite"><code class="language-sql">-- DynamoDB Streams CDC 데이터를 Redshift State 테이블에 MERGE하는 쿼리
BEGIN;
-- 1단계: 임시 테이블에 최신 이벤트만 선별하여 저장
CREATE TEMP TABLE stage_events AS
SELECT pk, sk, event_name, approximate_creation_date_time, sequence_number, new_image
FROM (
    SELECT *, ROW_NUMBER() OVER (
                PARTITION BY pk, sk 
                ORDER BY 
                    CASE WHEN event_name = 'REMOVE' THEN 1 ELSE 0 END DESC, 
                    COALESCE(CAST(new_image.updatedAt.N AS BIGINT), 0) DESC, 
                    approximate_creation_date_time DESC, 
                    COALESCE(CAST(sequence_number AS DECIMAL(38,0)), 0) DESC
            ) AS rn
    FROM my_schema.my_raw_table
    WHERE creation_time BETWEEN '2025-08-17 14:40:41.135' AND '2025-08-17 14:44:54.010'
) t WHERE rn = 1;

-- 2단계: 'MODIFY' 이벤트 업데이트
UPDATE my_schema.my_state_table SET ... FROM stage_events WHERE ...;

-- 3단계: 'INSERT' 또는 새로운 'MODIFY' 이벤트 삽입
INSERT INTO my_schema.my_state_table (...) SELECT ... FROM stage_events WHERE ...;

-- 4단계: 'REMOVE' 이벤트 삭제
DELETE FROM my_schema.my_state_table USING stage_events WHERE ...;

DROP TABLE stage_events;
END;
</code></pre>

<h4>2-3. 안전한 데이터 공유를 위한 Cross-Account 접근 제어</h4>
<ul>
<li><strong>문제</strong>: 타 계정에서 발생한 DynamoDB 데이터를 <strong>직접적인 DB 접근 권한 없이 실시간으로 분석실로 데이터를 옮길 방법</strong>이 필요했습니다.</li>
<li><strong>해결</strong>: 타 부서가 저희 DynamoDB Streams에 직접 접근할 수 있도록, <strong>Terraform으로 IAM Role과 Policy가 정의된 템플릿을 제작하여 제공</strong>했습니다. 이를 통해 타 부서는 필요한 최소한의 권한만 안전하게 획득하고, 저희는 <code>S3 Bucket Policy</code>를 통해 접근 제어를 유지하며 효율적으로 데이터를 공유할 수 있었습니다.</li>
</ul>
<pre class="codehilite"><code class="language-terraform"># IAM 역할 및 정책 생성 (Lambda가 DynamoDB Stream을 읽고 S3에 쓰도록 허용)
resource &quot;aws_iam_role&quot; &quot;dynamodb_stream_role&quot; { ... }
resource &quot;aws_iam_policy&quot; &quot;dynamodb_stream_policy&quot; { ... }
resource &quot;aws_iam_role_policy_attachment&quot; &quot;dynamodb_stream_attachment&quot; { ... }

# Lambda 함수 및 이벤트 소스 매핑
resource &quot;aws_lambda_function&quot; &quot;dynamodb_stream_consumer&quot; {
    function_name = &quot;dynamodb-stream-to-s3&quot;
    role          = aws_iam_role.dynamodb_stream_role.arn
    ...
}
resource &quot;aws_lambda_event_source_mapping&quot; &quot;dynamodb_stream_mapping&quot; {
    event_source_arn  = &quot;arn:aws:dynamodb:ap-northeast-2:123456789012:table/MyTable/stream/...&quot;
    function_name     = aws_lambda_function.dynamodb_stream_consumer.arn
    starting_position = &quot;TRIM_HORIZON&quot;
    batch_size        = 100000
    maximum_batching_window_in_seconds = 5
}
</code></pre>

<hr />
<h2>성과 및 임팩트</h2>
<ul>
<li><strong>분석 영역의 확장</strong>: 기존 RDB 데이터만으로는 불가능했던 <strong>클라이언트단 사용자의 상세 행동 패턴, UI 인터랙션 등 이벤트 기반의 심층 분석이 가능</strong>해졌습니다.</li>
<li><strong>전사 데이터 통합 및 협업 기반 마련</strong>: MSK를 중앙 허브로 구축하여 <strong>데이터 사일로(Silo)를 해소</strong>하고, 다른 부서가 필요한 데이터를 손쉽게 구독하여 새로운 비즈니스 가치를 창출할 수 있는 협업의 기틀을 마련했습니다.</li>
<li><strong>데이터 수집의 표준화 및 안정성 증대</strong>: 데이터 로깅 포맷을 표준화하고 파이프라인을 일원화하여 <strong>데이터의 품질과 신뢰도를 높였으며</strong>, 대규모 트래픽에도 안정적인 데이터 수집을 보장하게 되었습니다.</li>
</ul>
<hr />
<h2>배운 점과 향후 개선 방향</h2>
<h3>배운 점</h3>
<ul>
<li><strong>전사적 큐의 전략적 가치</strong>: 중앙 집중식 메시지 큐(MSK)가 단순히 데이터를 전달하는 기술적 요소를 넘어, <strong>전사의 데이터 흐름을 하나로 묶고 부서 간 협업을 촉진하는 핵심적인 전략 자산</strong>임을 깨달았습니다.</li>
<li><strong>데이터 정합성을 위한 멱등성 설계의 중요성</strong>: CDC(Change Data Capture) 데이터를 처리할 때, <code>INSERT</code>, <code>UPDATE</code>, <code>DELETE</code> 이벤트의 순서가 보장되지 않거나 중복 발생 가능성이 항상 존재함을 인지했습니다. <code>UPSERT</code> 쿼리 설계 시 단순히 최신 데이터만 반영하는 것을 넘어, <code>sequence_number</code>와 같은 보조 정렬 키를 활용하여 데이터의 최종 상태를 보장하는 <strong>견고한 멱등성 로직을 구현하는 것이 얼마나 중요한지</strong> 깊이 깨달았습니다.</li>
<li><strong>대용량 스트리밍 데이터 처리의 핵심, 배치 최적화</strong>: 이론으로만 알던 대용량 데이터 처리를 실제로 경험하며, Lambda의 <code>batch_size</code>나 SQS의 <code>maximum_batching_window_in_seconds</code> 같은 <strong>파라미터 하나가 전체 파이프라인의 안정성에 얼마나 큰 영향을 미치는지</strong> 체감했습니다. 스트레스 테스트를 통해 병목 지점을 파악하고, 시스템의 특성에 맞게 배치를 최적화하는 과정이 안정적인 스트리밍 플랫폼 구축의 핵심임을 배웠습니다.</li>
</ul>
<h3>향후 개선 방향</h3>
<ul>
<li><strong>실시간 분석 피드백 루프 구축</strong>: 현재의 데이터 수집 단계를 넘어, <strong>Apache Flink와 같은 스트림 처리 엔진을 도입</strong>하여 실시간으로 데이터를 분석하고, 그 결과를 게임 밸런싱이나 개인화 추천 등 실제 서비스에 다시 반영하는 <strong>진정한 의미의 실시간 분석 서비스를 구현</strong>하고 싶습니다.</li>
<li><strong>MSK Connect 모니터링 강화</strong>: MSK Connect의 운영 안정성을 더욱 높이기 위해 커넥터의 상태, 처리량, 지연 시간 등에 대한 <strong>세분화된 모니터링 및 알림 체계를 구축</strong>하여 장애 발생 시 더욱 신속하게 대응할 계획입니다.</li>
</ul>
                </div>
            </div>

            <!-- Back to Projects -->
            <div class="text-center mt-12">
                <a href="/#projects" class="inline-flex items-center px-8 py-4 bg-gradient-to-r from-blue-600 to-indigo-600 text-white rounded-full hover:from-blue-700 hover:to-indigo-700 transition-all duration-300 shadow-lg hover:shadow-xl transform hover:-translate-y-1">
                    <i class="fas fa-arrow-left mr-3"></i>
                    프로젝트 목록으로 돌아가기
                </a>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="bg-gray-800 text-white py-12">
        <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
            <p class="text-gray-300">&copy; 2025 SeungHo Choi. All rights reserved.</p>
        </div>
    </footer>

    <!-- Lightbox Modal -->
    <div id="lightbox" class="fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-[100] hidden p-4">
        <img id="lightbox-img" src="" alt="Enlarged image" class="max-w-full max-h-full object-contain rounded-lg">
        <button id="lightbox-close" class="absolute top-6 right-6 text-white text-4xl font-bold">&times;</button>
    </div>

    <!-- Prism.js for code highlighting -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-core.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const lightbox = document.getElementById('lightbox');
            const lightboxImg = document.getElementById('lightbox-img');
            const lightboxClose = document.getElementById('lightbox-close');

            document.querySelectorAll('.prose img').forEach(img => {
                img.addEventListener('click', () => {
                    lightbox.classList.remove('hidden');
                    lightboxImg.src = img.src;
                });
            });

            const closeLightbox = () => {
                lightbox.classList.add('hidden');
                lightboxImg.src = '';
            };

            lightbox.addEventListener('click', (e) => {
                if (e.target === lightbox) {
                    closeLightbox();
                }
            });

            lightboxClose.addEventListener('click', closeLightbox);

            document.addEventListener('keydown', (e) => {
                if (e.key === 'Escape' && !lightbox.classList.contains('hidden')) {
                    closeLightbox();
                }
            });
        });
    </script>
</body>
</html>