{"componentChunkName":"component---src-templates-blog-post-jsx","path":"/blog/01. AWS RDS Aurora → Google Bigquery Multi-Cloud Near-Realtime(CDC) Data Pipeline/","result":{"data":{"site":{"siteMetadata":{"name":"SeungHo, Choi","title":"SeungHo, Choi | Data Engineer","description":"Data Engineer @Neowiz","about":"데이터 생성부터 데이터 소비까지, <b>데이터의 end-to-end를 책임지고\n    데이터가 잘 흐르고 다양하게 활용</b>될 수 있도록 꿈꾸고 실현하는 최승호입니다.\n    \n    어떻게 하면 <b>안정적인 데이터 파이프라인</b>을 구축할 지,\n    어떻게 하면 <b>비용효율적으로 데이터 플랫폼</b>을 구성할 지,\n    어떻게 하면 <b>데이터 분석에 집중할 수 있는 환경</b>을 만들어 줄 지\n    지속적으로 고민하고 테스트하고 도입하는 데이터 엔지니어입니다.\n    \n    데이터를 통해 인사이트를 낼 수 있다고 생각하고, 그 가치가 무궁무진하다고 믿습니다.\n    조직이 공통된 목표를 향해 나아갈 수 있도록 중간에서 커뮤니케이션하며 업무를 진행하여 인사이트를 내는데 도움이 되기를 희망합니다.","author":null,"github":"https://github.com/smothly","linkedin":"https://www.linkedin.com/in/csh0911/"}},"markdownRemark":{"id":"5324029c-7ad7-5fb2-9fa3-7314ac6f937a","excerpt":"목차 목표 아키텍처 이슈 & 해결 데이터 누락 데이터 중복 테이블 관리 자동 스키마 추론 성과 아쉬운 점 목표 PnE도입으로 인해 글로벌 카지노 게임 3종의 일배치를 준실시간 배치로 전환 DB Cluster 6개 테이블 70여개 하루 데이터 4000만 row RDB…","html":"<p>목차</p>\n<ul>\n<li><a href=\"#%EB%AA%A9%ED%91%9C\">목표</a></li>\n<li><a href=\"#%EC%95%84%ED%82%A4%ED%85%8D%EC%B2%98\">아키텍처</a></li>\n<li>\n<p><a href=\"#%EC%9D%B4%EC%8A%88--%ED%95%B4%EA%B2%B0\">이슈 &#x26; 해결</a></p>\n<ul>\n<li><a href=\"#%EB%8D%B0%EC%9D%B4%ED%84%B0-%EB%88%84%EB%9D%BD\">데이터 누락</a></li>\n<li><a href=\"#%EB%8D%B0%EC%9D%B4%ED%84%B0-%EC%A4%91%EB%B3%B5\">데이터 중복</a></li>\n<li><a href=\"#%ED%85%8C%EC%9D%B4%EB%B8%94-%EA%B4%80%EB%A6%AC\">테이블 관리</a></li>\n<li><a href=\"#%EC%9E%90%EB%8F%99-%EC%8A%A4%ED%82%A4%EB%A7%88-%EC%B6%94%EB%A1%A0\">자동 스키마 추론</a></li>\n</ul>\n</li>\n<li><a href=\"#%EC%84%B1%EA%B3%BC\">성과</a></li>\n<li><a href=\"#%EC%95%84%EC%89%AC%EC%9A%B4-%EC%A0%90\">아쉬운 점</a></li>\n</ul>\n<hr>\n<h2 id=\"목표\" style=\"position:relative;\"><a href=\"#%EB%AA%A9%ED%91%9C\" aria-label=\"목표 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>목표</h2>\n<ul>\n<li>\n<p>PnE도입으로 인해 글로벌 카지노 게임 3종의 일배치를 <strong>준실시간 배치</strong>로 전환</p>\n<ul>\n<li>DB Cluster 6개</li>\n<li>테이블 70여개</li>\n<li>하루 데이터 4000만 row</li>\n</ul>\n</li>\n<li>RDB에 저장된 데이터를 실시간으로 옮겨야 하는 미션</li>\n</ul>\n<hr>\n<h2 id=\"아키텍처\" style=\"position:relative;\"><a href=\"#%EC%95%84%ED%82%A4%ED%85%8D%EC%B2%98\" aria-label=\"아키텍처 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>아키텍처</h2>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; margin: 0 0 30px;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/1f6975eae5e8c56ab7224a55e21d340f/2cefc/architecture.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 28.37837837837838%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAIAAABM9SnKAAAACXBIWXMAAAsTAAALEwEAmpwYAAABDUlEQVR42i2QTU4DMQyF52KcBQmJQ7DkAOzYV1B2bHoBlrBBgrJALQJVmikgqlbTTibJ+Cf24ASiKPry7Njxq5xzIokgSlsTISGMKqMt1QKat0ERVWV1ECRKIhao9oHaaGIS8MykJSlgBxxziYHGroCkMWyEMfLoSe20VV3edSeTrVG9Xl9Pp0RZPpsdz54mBv3NfX96ZfV418SLI6hfTDx/oNu33KOqf/x8+S3kfe+Wi1ccHKNfNM/rzUrtM81nO/9ACOhb9/7Y77cI/mu723vIj5MkJo9DlxiZgMBlzhAxHshCBBA6GnpOGGOIwTF0KbG1rmzyPLuZIUm1UDFGR/23Tf5syxlaMuyeSvgXE/1UTDwixRQAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"architecture\"\n        title=\"architecture\"\n        src=\"/static/1f6975eae5e8c56ab7224a55e21d340f/fcda8/architecture.png\"\n        srcset=\"/static/1f6975eae5e8c56ab7224a55e21d340f/12f09/architecture.png 148w,\n/static/1f6975eae5e8c56ab7224a55e21d340f/e4a3f/architecture.png 295w,\n/static/1f6975eae5e8c56ab7224a55e21d340f/fcda8/architecture.png 590w,\n/static/1f6975eae5e8c56ab7224a55e21d340f/efc66/architecture.png 885w,\n/static/1f6975eae5e8c56ab7224a55e21d340f/c83ae/architecture.png 1180w,\n/static/1f6975eae5e8c56ab7224a55e21d340f/2cefc/architecture.png 1400w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<ul>\n<li>RDS(MySQL) → DMS(CDC) → S3 → SQS → Lambda → Bigquery</li>\n</ul>\n<hr>\n<h2 id=\"이슈--해결\" style=\"position:relative;\"><a href=\"#%EC%9D%B4%EC%8A%88--%ED%95%B4%EA%B2%B0\" aria-label=\"이슈  해결 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>이슈 &#x26; 해결</h2>\n<h4 id=\"데이터-누락\" style=\"position:relative;\"><a href=\"#%EB%8D%B0%EC%9D%B4%ED%84%B0-%EB%88%84%EB%9D%BD\" aria-label=\"데이터 누락 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>데이터 누락</h4>\n<ul>\n<li>\n<p>이슈</p>\n<ul>\n<li>빅쿼리 API - 빅쿼리 로드가 API 기반이다 보니 간헐적으로 로드 오류가 발생</li>\n<li>휴먼 에러 - 테이블 명이나 코드의 문법오류가 발생시 로드 실패</li>\n</ul>\n</li>\n<li>\n<p>해결</p>\n<ul>\n<li>S3와 Lambda사이에 <strong>SQS큐를 추가</strong>함으로써 실패한 이벤트들은 다시 큐로 돌아가도록 함</li>\n</ul>\n</li>\n</ul>\n<h4 id=\"데이터-중복\" style=\"position:relative;\"><a href=\"#%EB%8D%B0%EC%9D%B4%ED%84%B0-%EC%A4%91%EB%B3%B5\" aria-label=\"데이터 중복 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>데이터 중복</h4>\n<ul>\n<li>\n<p>이슈</p>\n<ul>\n<li>S3 event가 at least once여서 중복이벤트가 발생함</li>\n<li>빅쿼리에 append형태로 적재를 하는데 실패 시 재처리</li>\n</ul>\n</li>\n<li>\n<p>해결</p>\n<ul>\n<li>빅쿼리의 <strong>Job id를 unique id처럼 활용하여 중복된 job일 경우 패스</strong>하도록 함</li>\n<li>ex) 로드할 때 yyyymmddhhmmss_{테이블}.parquet을 Job id로 올리고 중복된 Job인지 체크</li>\n</ul>\n</li>\n</ul>\n<h4 id=\"테이블-관리\" style=\"position:relative;\"><a href=\"#%ED%85%8C%EC%9D%B4%EB%B8%94-%EA%B4%80%EB%A6%AC\" aria-label=\"테이블 관리 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>테이블 관리</h4>\n<ul>\n<li>\n<p>이슈</p>\n<ul>\n<li>테이블의 변동이 잦음</li>\n<li>테이블 매핑 코드를 매번 수동으로 배포했어야함</li>\n</ul>\n</li>\n<li>\n<p>해결</p>\n<ul>\n<li>테이블 매핑 파일을 따로 두어 관리</li>\n<li><strong>CD(자동 배포)를 구축하여 테이블 파일 수정하면 자동으로 배포</strong>되도록 변경</li>\n</ul>\n</li>\n</ul>\n<h4 id=\"자동-스키마-추론\" style=\"position:relative;\"><a href=\"#%EC%9E%90%EB%8F%99-%EC%8A%A4%ED%82%A4%EB%A7%88-%EC%B6%94%EB%A1%A0\" aria-label=\"자동 스키마 추론 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>자동 스키마 추론</h4>\n<ul>\n<li>\n<p>이슈</p>\n<ul>\n<li>Bit, Boolean등 MySQL의 특정타입들을 지원하지 않아 인코딩이 깨짐</li>\n<li>테이블 추가시 매번 빅쿼리에서 테이블 정의했어야 함</li>\n</ul>\n</li>\n<li>\n<p>해결</p>\n<ul>\n<li>1차적으로 <strong>DMS에게 공통변환을 맡겨 mysql라이브러리의 이슈들은 해결</strong></li>\n<li>2차적으로는 <strong>parquet파일로 변환 및 빅쿼리의 autodetect 스키마 추론 기능을 활용</strong>하여 테이블을 자동으로 생성함<br>\nparquet + gz압축으로 비용절감 효과는 덤!</li>\n</ul>\n</li>\n</ul>\n<hr>\n<h2 id=\"성과\" style=\"position:relative;\"><a href=\"#%EC%84%B1%EA%B3%BC\" aria-label=\"성과 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>성과</h2>\n<ul>\n<li>\n<p>평균 Latency 1~2분정도의 <strong>준실시간 배치로의 안정적인 파이프라인</strong> 구축</p>\n<ul>\n<li>실시간 대시보드, 실시간 FDS가 가능하도록 함</li>\n</ul>\n</li>\n<li>\n<p>DW/BI엔지니어 분들이 ETL 파이프라인을 관리하는데 리소스 낭비가 없도록 함</p>\n<ul>\n<li>테이블 관리를 분석가 분들이 직접 함으로써 데이터 엔지니어와 dependency를 줄임</li>\n<li>데이터 현황 모니터링 대시보드를 통해 데이터가 안정적으로 수집되고 있음을 확인하도록 함  </li>\n<li><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; margin: 0 0 30px;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/c077ad29c485c812b76674217e885166/d0ab7/table_status.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 74.32432432432432%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAIAAABr+ngCAAAACXBIWXMAAAsTAAALEwEAmpwYAAACFUlEQVR42nWSy44SQRSGe+sTwNDV9+rqqr7SMCBjogGkjW6GQcxcQqS5zGSMF8DReEsYGOJqEp/AZzBhb2Tn1q1v4MKXGA90pgOZNjmpxV/nq/+cU4eTNBtJRgYpGUGNghcxkpkg64S62HCQhCMdSbqse4LKkKQpxEMS4Uw7z5wcL2oxvIVUjdgZUUvz8haSr0UFRMcv3SvXur3+m7fv9g9anE4d08lhw07zUhSpjCjIGLBYiURFo9TKVqrBaPR6Npt1On3OYJ6TLSiYgTlUGIWkUqiNF9U4MoKCiWW5+fu1h4PBYDKZtNtdDjxtN68RKxWb8CKQCc546VyuBMPhcDqdtsMuR1bO8CS8Haci8X+wX64GgxUchj3OMD3XL8IFXMd5skbX34pEFTPTyVdrD4ajVxcXk7DTXfbsZovU9NZTVd286byCc+XKo+enZ+OPn9tPT1YD84uEueup4HwT1jDV7O3jsv/rtPT7Q/3yKOComV1O67rmKE9SSQJMqEp23p8pV39vXf1Jfb1EAHvAw3g3Z8MSytYpY4UgLH76Xvny80lvGkDZruMVwHyz50SYWWy70Lq7+6158uPZ7vgxfJXr+bfhXK9cN5xE2KT5UuvO4bw+WPSb53vLnsFZ1ow4CT7J2Bz+ShdUwkwjVzja2Z/vvVwcN88bHCY2rDfsfZoXIxiW0XJziTAD+LB0MG+8WPQb4/o/7duhaEfxz9oAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"table_status\"\n        title=\"table_status\"\n        src=\"/static/c077ad29c485c812b76674217e885166/fcda8/table_status.png\"\n        srcset=\"/static/c077ad29c485c812b76674217e885166/12f09/table_status.png 148w,\n/static/c077ad29c485c812b76674217e885166/e4a3f/table_status.png 295w,\n/static/c077ad29c485c812b76674217e885166/fcda8/table_status.png 590w,\n/static/c077ad29c485c812b76674217e885166/efc66/table_status.png 885w,\n/static/c077ad29c485c812b76674217e885166/c83ae/table_status.png 1180w,\n/static/c077ad29c485c812b76674217e885166/d0ab7/table_status.png 1532w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></li>\n<li><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; margin: 0 0 30px;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/638c68f799c4f7b68c554656764a3e98/ccd6a/table_status2.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 47.2972972972973%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAIAAAC9o5sfAAAACXBIWXMAAAsTAAALEwEAmpwYAAABo0lEQVR42l2QW2/aQBCF8x+qJsEJGENscwmkgBOlqpIWvONdry/0rS8NAez4AtjGN0j667s8VIhKR6M5Gn1zNHN2yfEXlRpXFbgroS6L8n239dCVR53br3f9b0Om1n1X/ic2koadC67GqE+fuTOuJlzzTUFs3XaVkfFI96b1YZOcmh82zgndG7Q06c409hYtDfOPrUWEwZXr+gFmZENsi+2e3B48aaPXLVqk8HutzlPtZYPmMbwmMIvRLEEvsbootF/h+Aiz7rxS5RtiU+p/Hw/8EIIVOK4ahOAukecgz4c3T/UC5PqTkG1xfxzhyyuemfqNLLe+DPHIzrWfBTETYNVKtWlB7FSzDsLGFqalTgJ0ksx4viE15Tt4Huw9ePchn6vvDuQz2M2hdFC+nGQOSpfqbg2r5eT/5KbU6fQUdaxsAhyFJHAg8nGwwGuHrN5w6MLa00IPRQl23Mk5Vz2B2c9FqaeQB7vQpyU1EsyqlZJpQe2MWJluZcRktqT6Ck6SmarCjST1h5pCt8TMKNmAlep6xO4keoxpTGhyaMxM1/zjzX8BVsqHZFJHF/0AAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"table_status2\"\n        title=\"table_status2\"\n        src=\"/static/638c68f799c4f7b68c554656764a3e98/fcda8/table_status2.png\"\n        srcset=\"/static/638c68f799c4f7b68c554656764a3e98/12f09/table_status2.png 148w,\n/static/638c68f799c4f7b68c554656764a3e98/e4a3f/table_status2.png 295w,\n/static/638c68f799c4f7b68c554656764a3e98/fcda8/table_status2.png 590w,\n/static/638c68f799c4f7b68c554656764a3e98/efc66/table_status2.png 885w,\n/static/638c68f799c4f7b68c554656764a3e98/c83ae/table_status2.png 1180w,\n/static/638c68f799c4f7b68c554656764a3e98/ccd6a/table_status2.png 1549w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></li>\n<li>장애가 발생할 경우 재처리를 할 수 있도록 백필하는 시스템(Prefect Flow) 제공</li>\n</ul>\n</li>\n</ul>\n<hr>\n<h2 id=\"아쉬운-점\" style=\"position:relative;\"><a href=\"#%EC%95%84%EC%89%AC%EC%9A%B4-%EC%A0%90\" aria-label=\"아쉬운 점 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>아쉬운 점</h2>\n<ul>\n<li>CD를 구축하긴 하였지만, DMS와 코드를 각각 수정해야하는 문제점이 있음. 한꺼번에 수정하도록 wrapping하는 작업이 필요했음</li>\n<li>준실시간 말고 로그성 데이터는 실시간성으로 받고싶었던 아쉬움. 데이터를 Produce하는 곳이 리소스가 없었음</li>\n</ul>","frontmatter":{"title":"01. AWS RDS Aurora → Google Bigquery Multi-Cloud Near-Realtime(CDC) Data Pipeline","start_date":"2022.12.01","end_date":"2023.03.01","description":"AWS DMS CDC, Lambda, SQS를 활용하여 RDS Aurora의 데이터를 Google Bigquery로 준실시간으로 이동하는 데이터 파이프라인 구축"}}},"pageContext":{"slug":"/blog/01. AWS RDS Aurora → Google Bigquery Multi-Cloud Near-Realtime(CDC) Data Pipeline/","previous":{"fields":{"slug":"/blog/02. Trino on AWS ECS/"},"frontmatter":{"title":"02. Trino on AWS ECS"}},"next":null}},"staticQueryHashes":["63159454"]}