# RDB to DW ETL Evolution

## 목표

SaaS, Snapshot, Query, CDC 등 다양한 형태의 ETL을 구축해가며 상황에 맞는 ETL을 선택하고, 이를 통해 Source DB에 영향없이 효과적으로 데이터를 추출하여 DW에 적재하는 경험을 쌓음

---

## 아키텍처

### ETL 진화 단계

1. **SaaS 기반 ETL**
   - Fivetran, Stitch 등 SaaS 솔루션 활용
   - 빠른 구축, 관리 편의성

2. **Snapshot 기반 ETL**
   - 정기적인 전체 데이터 스냅샷
   - 단순하지만 리소스 집약적

3. **Query 기반 ETL**
   - 증분 쿼리를 통한 변경 데이터 추출
   - 타임스탬프 기반 델타 로드

4. **CDC 기반 ETL**
   - Change Data Capture를 통한 실시간 변경 감지
   - 최소한의 DB 부하로 실시간 동기화

---

## 각 방식별 특징

### SaaS ETL
**장점**
- 빠른 구축 및 배포
- 관리 오버헤드 최소화
- 다양한 커넥터 지원

**단점**
- 비용 증가
- 커스터마이징 제한
- 벤더 종속성

### Snapshot ETL
**장점**
- 구현 단순성
- 데이터 일관성 보장

**단점**
- 높은 리소스 사용량
- 긴 처리 시간
- 스케일링 한계

### Query 기반 ETL
**장점**
- 효율적인 증분 처리
- DB 부하 최소화
- 유연한 스케줄링

**단점**
- 삭제된 데이터 감지 어려움
- 타임스탬프 컬럼 의존성

### CDC ETL
**장점**
- 실시간 데이터 동기화
- 모든 변경사항 캡처
- 최소한의 DB 부하

**단점**
- 복잡한 구현
- 높은 기술적 요구사항
- 장애 복구 복잡성

---

## 이슈 & 해결

### 데이터 일관성
**이슈**
- 각 ETL 방식별 데이터 일관성 보장 방법 상이

**해결**
- 데이터 검증 파이프라인 구축
- 소스-타겟 데이터 비교 자동화
- 불일치 감지 및 알림 시스템

### 성능 최적화
**이슈**
- 대용량 데이터 처리 시 성능 저하

**해결**
- 병렬 처리 및 파티셔닝 적용
- 배치 크기 최적화
- 인덱스 및 쿼리 튜닝

### 장애 복구
**이슈**
- ETL 실패 시 복구 메커니즘 필요

**해결**
- 체크포인트 기반 재시작
- 실패 지점부터 재처리
- 데이터 품질 모니터링

---

## 성과

- **다양한 ETL 패턴 경험** 축적
- **상황별 최적 ETL 방식** 선택 능력 확보
- **Source DB 부하 최소화** 달성
- **실시간 데이터 파이프라인** 구축 경험
- **비용 효율적인 ETL 아키텍처** 설계

---

## 아쉬운 점

- 초기 SaaS 솔루션 의존도가 높았던 점
- CDC 구현 시 복잡성으로 인한 개발 기간 연장
- 각 방식별 모니터링 체계 통합 부족
